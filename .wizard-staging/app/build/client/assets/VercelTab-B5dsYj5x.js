import{r as o,j as e}from"./components-BmgQfFUx.js";import{c as b,B as A,b as C,a as u}from"./Button-BQzjmXH6.js";import{c as T,l as F}from"./logs-DZu2vR68.js";import{m as E,aT as D,aU as P,aV as R,aW as S,aX as f,r as _,t as L,v as I,aY as N,aZ as O,a_ as U}from"./Header-C4AWQck-.js";import"./mobile-BXmnRaCS.js";function z({testEndpoint:s,serviceName:c,getUserIdentifier:d,getToken:m}){const[p,i]=o.useState(null),j=o.useCallback(async()=>{i({status:"testing",message:"Testing connection..."});try{const g={"Content-Type":"application/json"},y=m?.();y&&(g.Authorization=`Bearer ${y}`);const h=await fetch(s,{method:"GET",headers:g});if(h.ok){const v=await h.json(),k=d?d(v):"User";i({status:"success",message:`Connected successfully to ${c} as ${k}`,timestamp:Date.now()})}else{const v=await h.json().catch(()=>({}));i({status:"error",message:`Connection failed: ${v.error||`${h.status} ${h.statusText}`}`,timestamp:Date.now()})}}catch(g){i({status:"error",message:`Connection failed: ${g instanceof Error?g.message:"Unknown error"}`,timestamp:Date.now()})}},[s,c,d,m]),w=o.useCallback(()=>{i(null)},[]);return{testResult:p,testConnection:j,clearTestResult:w,isTestingConnection:p?.status==="testing"}}function B({testResult:s,className:c}){return s?e.jsxs(E.div,{className:b("p-4 rounded-lg border",{"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700":s.status==="success","bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":s.status==="error","bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-700":s.status==="testing"},c),initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.status==="success"&&e.jsx("div",{className:"i-ph:check-circle w-5 h-5 text-green-600 dark:text-green-400"}),s.status==="error"&&e.jsx("div",{className:"i-ph:warning-circle w-5 h-5 text-red-600 dark:text-red-400"}),s.status==="testing"&&e.jsx("div",{className:"i-ph:spinner-gap w-5 h-5 animate-spin text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:b("text-sm font-medium",{"text-green-800 dark:text-green-200":s.status==="success","text-red-800 dark:text-red-200":s.status==="error","text-blue-800 dark:text-blue-200":s.status==="testing"}),children:s.message})]}),s.timestamp&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(s.timestamp).toLocaleString()})]}):null}const Y=o.memo(({icon:s,title:c,description:d,onTestConnection:m,isTestingConnection:p,additionalInfo:i,delay:j=.1})=>e.jsxs(e.Fragment,{children:[e.jsxs(E.div,{className:"flex items-center justify-between gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{className:"w-5 h-5"}),e.jsx("h2",{className:"text-lg font-medium text-bolt-elements-textPrimary dark:text-bolt-elements-textPrimary",children:c})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i,m&&e.jsx(A,{onClick:m,disabled:p,variant:"outline",className:"flex items-center gap-2 hover:bg-bolt-elements-item-backgroundActive/10 hover:text-bolt-elements-textPrimary dark:hover:bg-bolt-elements-item-backgroundActive/10 dark:hover:text-bolt-elements-textPrimary transition-colors",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-ph:spinner-gap w-4 h-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-ph:plug-charging w-4 h-4"}),"Test Connection"]})})]})]}),d&&e.jsx("p",{className:"text-sm text-bolt-elements-textSecondary dark:text-bolt-elements-textSecondary",children:d})]})),q=()=>e.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:e.jsx("path",{fill:"currentColor",d:"m12 2 10 18H2z"})});function X(){const s=C(D),c=C(P),d=C(R),[m,p]=o.useState(!1),[i,j]=o.useState(!1),{testResult:w,testConnection:g,isTestingConnection:y}=z({testEndpoint:"/api/vercel-user",serviceName:"Vercel",getUserIdentifier:t=>t.username||t.user?.username||t.email||t.user?.email||"Vercel User",getToken:()=>D.get().token||null}),h=o.useMemo(()=>[{name:"Redeploy",icon:"i-ph:arrows-clockwise",action:async t=>{try{const r=await S.post("/v1/deployments",s.token,{name:t,target:"production"});if(!r.success)throw new Error(r.error||"Failed to redeploy project");u.success("Project redeployment initiated"),await f(s.token)}catch(r){const a=r instanceof Error?r.message:"Unknown error";u.error(`Failed to redeploy project: ${a}`)}}},{name:"View Dashboard",icon:"i-ph:layout",action:async t=>{window.open(`https://vercel.com/dashboard/${t}`,"_blank")}},{name:"View Deployments",icon:"i-ph:rocket",action:async t=>{window.open(`https://vercel.com/dashboard/${t}/deployments`,"_blank")}},{name:"View Functions",icon:"i-ph:code",action:async t=>{window.open(`https://vercel.com/dashboard/${t}/functions`,"_blank")}},{name:"View Analytics",icon:"i-ph:chart-bar",action:async t=>{const r=s.stats?.projects.find(a=>a.id===t);r&&window.open(`https://vercel.com/${s.user?.username}/${r.name}/analytics`,"_blank")}},{name:"View Domains",icon:"i-ph:globe",action:async t=>{window.open(`https://vercel.com/dashboard/${t}/domains`,"_blank")}},{name:"View Settings",icon:"i-ph:gear",action:async t=>{window.open(`https://vercel.com/dashboard/${t}/settings`,"_blank")}},{name:"View Logs",icon:"i-ph:scroll",action:async t=>{window.open(`https://vercel.com/dashboard/${t}/logs`,"_blank")}},{name:"Delete Project",icon:"i-ph:trash",action:async t=>{try{const r=await S.delete(`/v1/projects/${t}`,s.token);if(!r.success)throw new Error(r.error||"Failed to delete project");u.success("Project deleted successfully"),await f(s.token)}catch(r){const a=r instanceof Error?r.message:"Unknown error";u.error(`Failed to delete project: ${a}`)}},requiresConfirmation:!0,variant:"destructive"}],[s.token]);o.useEffect(()=>{(async()=>{try{await O(),D.get().user||console.log("No server-side Vercel token available, manual connection required")}catch(r){console.error("Failed to initialize Vercel connection:",r)}})()},[]),o.useEffect(()=>{(async()=>{if(s.user)try{await U(s.token)}catch{s.token&&await f(s.token)}})()},[s.user,s.token]);const v=async t=>{t.preventDefault(),P.set(!0);try{const r=s.token;if(!r.trim())throw new Error("Token is required");const a=await S.testConnection(r);if(!a.success||!a.data)throw new Error(a.error||"Invalid Vercel token");const n=a.data;T.set("VITE_VERCEL_ACCESS_TOKEN",r,{expires:365});const l=n.user||{id:n.id||"",username:n.username||"",email:n.email||"",name:n.name||"",avatar:n.avatar};N({user:l,token:r}),await f(r),u.success("Successfully connected to Vercel")}catch(r){console.error("Auth error:",r),F.logError("Failed to authenticate with Vercel",{error:r});const a=r instanceof Error?r.message:"Failed to connect to Vercel";u.error(a),N({user:null,token:""})}finally{P.set(!1)}},k=()=>{T.remove("VITE_VERCEL_ACCESS_TOKEN"),N({user:null,token:""}),u.success("Disconnected from Vercel")},V=o.useCallback(async(t,r)=>{r.requiresConfirmation&&!confirm(`Are you sure you want to ${r.name.toLowerCase()}?`)||(j(!0),await r.action(t),j(!1))},[]),$=o.useCallback(()=>d?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-bolt-elements-textSecondary",children:[e.jsx("div",{className:"i-ph:spinner-gap w-4 h-4 animate-spin"}),"Fetching Vercel projects..."]}):e.jsxs(_,{open:m,onOpenChange:p,children:[e.jsx(L,{asChild:!0,children:e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-bolt-elements-background dark:bg-bolt-elements-background-depth-2 border border-bolt-elements-borderColor dark:border-bolt-elements-borderColor hover:border-bolt-elements-borderColorActive/70 dark:hover:border-bolt-elements-borderColorActive/70 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"i-ph:buildings w-4 h-4 text-bolt-elements-item-contentAccent"}),e.jsxs("span",{className:"text-sm font-medium text-bolt-elements-textPrimary",children:["Your Projects (",s.stats?.totalProjects||0,")"]})]}),e.jsx("div",{className:b("i-ph:caret-down w-4 h-4 transform transition-transform duration-200 text-bolt-elements-textSecondary",m?"rotate-180":"")})]})}),e.jsx(I,{className:"overflow-hidden",children:e.jsxs("div",{className:"space-y-4 mt-4",children:[s.stats?.projects?.length?e.jsxs("div",{className:"mb-6 p-4 bg-bolt-elements-background-depth-1 rounded-lg border border-bolt-elements-borderColor",children:[e.jsx("h4",{className:"text-sm font-medium text-bolt-elements-textPrimary mb-3",children:"Vercel Overview"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-bolt-elements-textPrimary",children:s.stats.totalProjects}),e.jsx("div",{className:"text-xs text-bolt-elements-textSecondary",children:"Total Projects"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-bolt-elements-textPrimary",children:s.stats.projects.filter(t=>t.targets?.production?.alias&&t.targets.production.alias.length>0).length}),e.jsx("div",{className:"text-xs text-bolt-elements-textSecondary",children:"Deployed Projects"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-bolt-elements-textPrimary",children:new Set(s.stats.projects.map(t=>t.framework).filter(Boolean)).size}),e.jsx("div",{className:"text-xs text-bolt-elements-textSecondary",children:"Frameworks Used"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-bolt-elements-textPrimary",children:s.stats.projects.filter(t=>t.latestDeployments?.[0]?.state==="READY").length}),e.jsx("div",{className:"text-xs text-bolt-elements-textSecondary",children:"Active Deployments"})]})]})]}):null,s.stats?.projects?.length?e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-bolt-elements-textPrimary",children:"Performance Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-bolt-elements-background-depth-2 p-3 rounded-lg border border-bolt-elements-borderColor",children:[e.jsxs("h6",{className:"text-xs font-medium text-bolt-elements-textPrimary flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"i-ph:rocket w-4 h-4 text-bolt-elements-item-contentAccent"}),"Deployment Health"]}),e.jsx("div",{className:"space-y-1",children:(()=>{const t=s.stats.projects.reduce((l,x)=>l+(x.latestDeployments?.length||0),0),r=s.stats.projects.filter(l=>l.latestDeployments?.[0]?.state==="READY").length,a=s.stats.projects.filter(l=>l.latestDeployments?.[0]?.state==="ERROR").length;return[{label:"Success Rate",value:`${t>0?Math.round(r/s.stats.projects.length*100):0}%`},{label:"Active",value:r},{label:"Failed",value:a}]})().map((t,r)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-bolt-elements-textSecondary",children:[t.label,":"]}),e.jsx("span",{className:"text-bolt-elements-textPrimary font-medium",children:t.value})]},r))})]}),e.jsxs("div",{className:"bg-bolt-elements-background-depth-2 p-3 rounded-lg border border-bolt-elements-borderColor",children:[e.jsxs("h6",{className:"text-xs font-medium text-bolt-elements-textPrimary flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"i-ph:chart-bar w-4 h-4 text-bolt-elements-item-contentAccent"}),"Framework Distribution"]}),e.jsx("div",{className:"space-y-1",children:(()=>{const t=s.stats.projects.reduce((r,a)=>(a.framework&&(r[a.framework]=(r[a.framework]||0)+1),r),{});return Object.entries(t).sort(([,r],[,a])=>a-r).slice(0,3).map(([r,a])=>({label:r,value:a}))})().map((t,r)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-bolt-elements-textSecondary",children:[t.label,":"]}),e.jsx("span",{className:"text-bolt-elements-textPrimary font-medium",children:t.value})]},r))})]}),e.jsxs("div",{className:"bg-bolt-elements-background-depth-2 p-3 rounded-lg border border-bolt-elements-borderColor",children:[e.jsxs("h6",{className:"text-xs font-medium text-bolt-elements-textPrimary flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"i-ph:activity w-4 h-4 text-bolt-elements-item-contentAccent"}),"Activity Summary"]}),e.jsx("div",{className:"space-y-1",children:(()=>{const t=Date.now(),r=s.stats.projects.filter(l=>{const x=l.latestDeployments?.[0]?.created;return x&&t-new Date(x).getTime()<7*24*60*60*1e3}).length,a=s.stats.projects.reduce((l,x)=>l+(x.targets?.production?.alias?x.targets.production.alias.length:0),0),n=s.stats.projects.length>0?Math.round(a/s.stats.projects.length*10)/10:0;return[{label:"Recent deploys",value:r},{label:"Total domains",value:a},{label:"Avg domains/project",value:n}]})().map((t,r)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-bolt-elements-textSecondary",children:[t.label,":"]}),e.jsx("span",{className:"text-bolt-elements-textPrimary font-medium",children:t.value})]},r))})]})]})]}):null,s.stats?.projects?.length?e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-bolt-elements-textPrimary mb-2",children:"Project Health Overview"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(()=>{const t=s.stats.projects.filter(l=>l.latestDeployments?.[0]?.state==="READY"&&(l.targets?.production?.alias?.length??0)>0).length,r=s.stats.projects.filter(l=>l.latestDeployments?.[0]?.state==="ERROR"||l.latestDeployments?.[0]?.state==="CANCELED").length,a=s.stats.projects.filter(l=>l.targets?.production?.alias?.some(x=>!x.includes(".vercel.app"))).length,n=s.stats.projects.filter(l=>l.latestDeployments?.[0]?.state==="BUILDING").length;return[{label:"Healthy",value:t,icon:"i-ph:check-circle",color:"text-green-500",bgColor:"bg-green-100 dark:bg-green-900/20",textColor:"text-green-800 dark:text-green-400"},{label:"Custom Domain",value:a,icon:"i-ph:globe",color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/20",textColor:"text-blue-800 dark:text-blue-400"},{label:"Building",value:n,icon:"i-ph:gear",color:"text-yellow-500",bgColor:"bg-yellow-100 dark:bg-yellow-900/20",textColor:"text-yellow-800 dark:text-yellow-400"},{label:"Issues",value:r,icon:"i-ph:warning",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20",textColor:"text-red-800 dark:text-red-400"}]})().map((t,r)=>e.jsxs("div",{className:`flex flex-col p-3 rounded-lg border border-bolt-elements-borderColor ${t.bgColor}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`${t.icon} w-4 h-4 ${t.color}`}),e.jsx("span",{className:"text-xs text-bolt-elements-textSecondary",children:t.label})]}),e.jsx("span",{className:`text-lg font-medium ${t.textColor}`,children:t.value})]},r))})]}):null,s.stats?.projects?.length?e.jsx("div",{className:"grid gap-3",children:s.stats.projects.map(t=>e.jsxs("div",{className:"p-4 rounded-lg border border-bolt-elements-borderColor hover:border-bolt-elements-borderColorActive/70 transition-colors bg-bolt-elements-background-depth-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h5",{className:"text-sm font-medium text-bolt-elements-textPrimary flex items-center gap-2",children:[e.jsx("div",{className:"i-ph:globe w-4 h-4 text-bolt-elements-borderColorActive"}),t.name]}),e.jsx("div",{className:"flex items-center gap-2 mt-2 text-xs text-bolt-elements-textSecondary",children:t.targets?.production?.alias&&t.targets.production.alias.length>0?e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`https://${t.targets.production.alias.find(r=>r.endsWith(".vercel.app")&&!r.includes("-projects.vercel.app"))||t.targets.production.alias[0]}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-bolt-elements-borderColorActive underline",children:t.targets.production.alias.find(r=>r.endsWith(".vercel.app")&&!r.includes("-projects.vercel.app"))||t.targets.production.alias[0]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-ph:clock w-3 h-3"}),new Date(t.createdAt).toLocaleDateString()]})]}):t.latestDeployments&&t.latestDeployments.length>0?e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`https://${t.latestDeployments[0].url}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-bolt-elements-borderColorActive underline",children:t.latestDeployments[0].url}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-ph:clock w-3 h-3"}),new Date(t.latestDeployments[0].created).toLocaleDateString()]})]}):null}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mt-3 pt-3 border-t border-bolt-elements-borderColor",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-bolt-elements-textPrimary",children:"--"}),e.jsxs("div",{className:"text-xs text-bolt-elements-textSecondary flex items-center justify-center gap-1",children:[e.jsx("div",{className:"i-ph:rocket w-3 h-3"}),"Deployments"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-bolt-elements-textPrimary",children:"--"}),e.jsxs("div",{className:"text-xs text-bolt-elements-textSecondary flex items-center justify-center gap-1",children:[e.jsx("div",{className:"i-ph:globe w-3 h-3"}),"Domains"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-bolt-elements-textPrimary",children:"--"}),e.jsxs("div",{className:"text-xs text-bolt-elements-textSecondary flex items-center justify-center gap-1",children:[e.jsx("div",{className:"i-ph:users w-3 h-3"}),"Team"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-bolt-elements-textPrimary",children:"--"}),e.jsxs("div",{className:"text-xs text-bolt-elements-textSecondary flex items-center justify-center gap-1",children:[e.jsx("div",{className:"i-ph:activity w-3 h-3"}),"Bandwidth"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.latestDeployments&&t.latestDeployments.length>0&&e.jsxs("div",{className:b("flex items-center gap-1 px-2 py-1 rounded-full text-xs",t.latestDeployments[0].state==="READY"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":t.latestDeployments[0].state==="ERROR"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"),children:[e.jsx("div",{className:b("w-2 h-2 rounded-full",t.latestDeployments[0].state==="READY"?"bg-green-500":t.latestDeployments[0].state==="ERROR"?"bg-red-500":"bg-yellow-500")}),t.latestDeployments[0].state]}),t.framework&&e.jsx("div",{className:"text-xs text-bolt-elements-textSecondary px-2 py-1 rounded-md bg-bolt-elements-background-depth-2",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-ph:code w-3 h-3"}),t.framework]})}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>window.open(`https://vercel.com/dashboard/${t.id}`,"_blank"),className:"flex items-center gap-1 text-bolt-elements-textPrimary dark:text-bolt-elements-textPrimary",children:[e.jsx("div",{className:"i-ph:arrow-square-out w-3 h-3"}),"View"]})]})]}),e.jsx("div",{className:"flex items-center flex-wrap gap-1 mt-3 pt-3 border-t border-bolt-elements-borderColor",children:h.map(r=>e.jsxs(A,{variant:r.variant||"outline",size:"sm",onClick:()=>V(t.id,r),disabled:i,className:"flex items-center gap-1 text-xs px-2 py-1 text-bolt-elements-textPrimary dark:text-bolt-elements-textPrimary",children:[e.jsx("div",{className:`${r.icon} w-2.5 h-2.5`}),r.name]},r.name))})]},t.id))}):e.jsxs("div",{className:"text-sm text-bolt-elements-textSecondary flex items-center gap-2 p-4",children:[e.jsx("div",{className:"i-ph:info w-4 h-4"}),"No projects found in your Vercel account"]})]})})]}),[s.stats,d,m,i,V,h]);return console.log("connection",s),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Y,{icon:q,title:"Vercel Integration",description:"Connect and manage your Vercel projects with advanced deployment controls and analytics",onTestConnection:s.user?()=>g():void 0,isTestingConnection:y}),e.jsx(B,{testResult:w}),e.jsx(E.div,{className:"bg-bolt-elements-background dark:bg-bolt-elements-background border border-bolt-elements-borderColor dark:border-bolt-elements-borderColor rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx("div",{className:"p-6 space-y-6",children:s.user?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:k,className:b("px-4 py-2 rounded-lg text-sm flex items-center gap-2","bg-red-500 text-white","hover:bg-red-600"),children:[e.jsx("div",{className:"i-ph:plug w-4 h-4"}),"Disconnect"]}),e.jsxs("span",{className:"text-sm text-bolt-elements-textSecondary flex items-center gap-1",children:[e.jsx("div",{className:"i-ph:check-circle w-4 h-4 text-green-500"}),"Connected to Vercel"]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-bolt-elements-background-depth-1 dark:bg-bolt-elements-background-depth-1 rounded-lg",children:[e.jsx("img",{src:`https://vercel.com/api/www/avatar?u=${s.user?.username}`,referrerPolicy:"no-referrer",crossOrigin:"anonymous",alt:"User Avatar",className:"w-12 h-12 rounded-full border-2 border-bolt-elements-borderColorActive"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-bolt-elements-textPrimary",children:s.user?.username||"Vercel User"}),e.jsx("p",{className:"text-sm text-bolt-elements-textSecondary",children:s.user?.email||"No email available"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-bolt-elements-textSecondary",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-ph:buildings w-3 h-3"}),s.stats?.totalProjects||0," Projects"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-ph:check-circle w-3 h-3"}),s.stats?.projects.filter(t=>t.latestDeployments?.[0]?.state==="READY").length||0," ","Live"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-ph:users w-3 h-3"}),"--"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-bolt-elements-background-depth-1 rounded-lg border border-bolt-elements-borderColor",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"i-ph:buildings w-4 h-4 text-bolt-elements-item-contentAccent"}),e.jsx("span",{className:"text-xs font-medium text-bolt-elements-textPrimary",children:"Projects"})]}),e.jsxs("div",{className:"text-sm text-bolt-elements-textSecondary",children:[e.jsxs("div",{children:["Active:"," ",s.stats?.projects.filter(t=>t.latestDeployments?.[0]?.state==="READY").length||0]}),e.jsxs("div",{children:["Total: ",s.stats?.totalProjects||0]})]})]}),e.jsxs("div",{className:"p-3 bg-bolt-elements-background-depth-1 rounded-lg border border-bolt-elements-borderColor",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"i-ph:globe w-4 h-4 text-bolt-elements-item-contentAccent"}),e.jsx("span",{className:"text-xs font-medium text-bolt-elements-textPrimary",children:"Domains"})]}),e.jsxs("div",{className:"text-sm text-bolt-elements-textSecondary",children:[e.jsx("div",{children:"Custom: --"}),e.jsx("div",{children:"Vercel: --"})]})]}),e.jsxs("div",{className:"p-3 bg-bolt-elements-background-depth-1 rounded-lg border border-bolt-elements-borderColor",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"i-ph:activity w-4 h-4 text-bolt-elements-item-contentAccent"}),e.jsx("span",{className:"text-xs font-medium text-bolt-elements-textPrimary",children:"Usage"})]}),e.jsxs("div",{className:"text-sm text-bolt-elements-textSecondary",children:[e.jsx("div",{children:"Bandwidth: --"}),e.jsx("div",{children:"Requests: --"})]})]})]})]}),$()]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-xs text-bolt-elements-textSecondary bg-bolt-elements-background-depth-1 dark:bg-bolt-elements-background-depth-1 p-3 rounded-lg mb-4",children:e.jsxs("p",{className:"flex items-center gap-1 mb-1",children:[e.jsx("span",{className:"i-ph:lightbulb w-3.5 h-3.5 text-bolt-elements-icon-success dark:text-bolt-elements-icon-success"}),e.jsx("span",{className:"font-medium",children:"Tip:"})," You can also set the"," ",e.jsx("code",{className:"px-1 py-0.5 bg-bolt-elements-background-depth-2 dark:bg-bolt-elements-background-depth-2 rounded",children:"VITE_VERCEL_ACCESS_TOKEN"})," ","environment variable to connect automatically."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-bolt-elements-textSecondary mb-2",children:"Personal Access Token"}),e.jsx("input",{type:"password",value:s.token,onChange:t=>N({...s,token:t.target.value}),disabled:c,placeholder:"Enter your Vercel personal access token",className:b("w-full px-3 py-2 rounded-lg text-sm","bg-[#F8F8F8] dark:bg-[#1a2332]","border border-[#E5E5E5] dark:border-[#333333]","text-bolt-elements-textPrimary placeholder-bolt-elements-textTertiary","focus:outline-none focus:ring-1 focus:ring-bolt-elements-borderColorActive","disabled:opacity-50")}),e.jsx("div",{className:"mt-2 text-sm text-bolt-elements-textSecondary",children:e.jsxs("a",{href:"https://vercel.com/account/tokens",target:"_blank",rel:"noopener noreferrer",className:"text-bolt-elements-borderColorActive hover:underline inline-flex items-center gap-1",children:["Get your token",e.jsx("div",{className:"i-ph:arrow-square-out w-4 h-4"})]})})]}),e.jsx("button",{onClick:v,disabled:c||!s.token,className:b("px-4 py-2 rounded-lg text-sm flex items-center gap-2","bg-[#303030] text-white","hover:bg-[#5E41D0] hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200","transform active:scale-95"),children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-ph:spinner-gap animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"i-ph:plug-charging w-4 h-4"}),"Connect"]})})]})})})]})}export{X as default};
