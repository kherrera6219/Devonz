import{r as c,j as r}from"./components-BmgQfFUx.js";import{l as s}from"./logs-DZu2vR68.js";import{b as u,c as i}from"./Button-BQzjmXH6.js";import{R as f,T as y,P as k,C as j,I as N,m as d,h as v}from"./Header-C4AWQck-.js";import"./mobile-BXmnRaCS.js";const T=()=>{const[t,x]=c.useState("all"),l=u(s.logs);c.useEffect(()=>{const e=performance.now();return()=>{const a=performance.now()-e;s.logPerformanceMetric("NotificationsTab","mount-duration",a)}},[]);const p=()=>{const e=Object.keys(l).length;s.logInfo("Cleared notifications",{type:"notification_clear",message:`Cleared ${e} notifications`,clearedCount:e,component:"notifications"}),s.clearLogs()},g=e=>{s.logInfo("Update link clicked",{type:"update_click",message:"User clicked update link",updateUrl:e,component:"notifications"}),window.open(e,"_blank")},m=e=>{s.logInfo("Notification filter changed",{type:"filter_change",message:`Filter changed to ${e}`,previousFilter:t,newFilter:e,component:"notifications"}),x(e)},n=Object.values(l).filter(e=>t==="all"?!0:t==="update"?e.details?.type==="update":t==="system"?e.category==="system":t==="provider"?e.category==="provider":t==="network"?e.category==="network":e.level===t).sort((e,a)=>new Date(a.timestamp).getTime()-new Date(e.timestamp).getTime()),h=(e,a)=>{if(a==="update")return{icon:"i-ph:arrow-circle-up",color:"text-purple-500 dark:text-purple-400",bg:"hover:bg-purple-500/10 dark:hover:bg-purple-500/20"};switch(e){case"error":return{icon:"i-ph:warning-circle",color:"text-red-500 dark:text-red-400",bg:"hover:bg-red-500/10 dark:hover:bg-red-500/20"};case"warning":return{icon:"i-ph:warning",color:"text-yellow-500 dark:text-yellow-400",bg:"hover:bg-yellow-500/10 dark:hover:bg-yellow-500/20"};case"info":return{icon:"i-ph:info",color:"text-blue-500 dark:text-blue-400",bg:"hover:bg-blue-500/10 dark:hover:bg-blue-500/20"};default:return{icon:"i-ph:bell",color:"text-gray-500 dark:text-gray-400",bg:"hover:bg-gray-500/10 dark:hover:bg-gray-500/20"}}},b=e=>e.type==="update"?r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.message}),r.jsxs("div",{className:"flex flex-col gap-1 text-xs text-gray-500 dark:text-gray-500",children:[r.jsxs("p",{children:["Current Version: ",e.currentVersion]}),r.jsxs("p",{children:["Latest Version: ",e.latestVersion]}),r.jsxs("p",{children:["Branch: ",e.branch]})]}),r.jsxs("button",{onClick:()=>e.updateUrl&&g(e.updateUrl),className:i("mt-2 inline-flex items-center gap-2","rounded-lg px-3 py-1.5","text-sm font-medium","bg-[#FAFAFA] dark:bg-[#0b0d13]","border border-[#E5E5E5] dark:border-[#1a2332]","text-gray-900 dark:text-white","hover:bg-purple-500/10 dark:hover:bg-purple-500/20","transition-all duration-200"),children:[r.jsx("span",{className:"i-ph:git-branch text-lg"}),"View Changes"]})]}):e.message?r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.message}):null,o=[{id:"all",label:"All Notifications",icon:"i-ph:bell",color:"#9333ea"},{id:"system",label:"System",icon:"i-ph:gear",color:"#6b7280"},{id:"update",label:"Updates",icon:"i-ph:arrow-circle-up",color:"#9333ea"},{id:"error",label:"Errors",icon:"i-ph:warning-circle",color:"#ef4444"},{id:"warning",label:"Warnings",icon:"i-ph:warning",color:"#f59e0b"},{id:"info",label:"Information",icon:"i-ph:info",color:"#3b82f6"},{id:"provider",label:"Providers",icon:"i-ph:robot",color:"#10b981"},{id:"network",label:"Network",icon:"i-ph:wifi-high",color:"#6366f1"}];return r.jsxs("div",{className:"flex h-full flex-col gap-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(f,{children:[r.jsx(y,{asChild:!0,children:r.jsxs("button",{className:i("flex items-center gap-2","rounded-lg px-3 py-1.5","text-sm text-gray-900 dark:text-white","bg-[#FAFAFA] dark:bg-[#0b0d13]","border border-[#E5E5E5] dark:border-[#1a2332]","hover:bg-purple-500/10 dark:hover:bg-purple-500/20","transition-all duration-200"),children:[r.jsx("span",{className:i("text-lg",o.find(e=>e.id===t)?.icon||"i-ph:funnel"),style:{color:o.find(e=>e.id===t)?.color}}),o.find(e=>e.id===t)?.label||"Filter Notifications",r.jsx("span",{className:"i-ph:caret-down text-lg text-gray-500 dark:text-gray-400"})]})}),r.jsx(k,{children:r.jsx(j,{className:"min-w-[200px] bg-white dark:bg-[#0b0d13] rounded-lg shadow-lg py-1 z-[250] animate-in fade-in-0 zoom-in-95 border border-[#E5E5E5] dark:border-[#1a2332]",sideOffset:5,align:"start",side:"bottom",children:o.map(e=>r.jsxs(N,{className:"group flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-purple-500/10 dark:hover:bg-purple-500/20 cursor-pointer transition-colors",onClick:()=>m(e.id),children:[r.jsx("div",{className:"mr-3 flex h-5 w-5 items-center justify-center",children:r.jsx("div",{className:i(e.icon,"text-lg group-hover:text-purple-500 transition-colors"),style:{color:e.color}})}),r.jsx("span",{className:"group-hover:text-purple-500 transition-colors",children:e.label})]},e.id))})})]}),r.jsxs("button",{onClick:p,className:i("group flex items-center gap-2","rounded-lg px-3 py-1.5","text-sm text-gray-900 dark:text-white","bg-[#FAFAFA] dark:bg-[#0b0d13]","border border-[#E5E5E5] dark:border-[#1a2332]","hover:bg-purple-500/10 dark:hover:bg-purple-500/20","transition-all duration-200"),children:[r.jsx("span",{className:"i-ph:trash text-lg text-gray-500 dark:text-gray-400 group-hover:text-purple-500 transition-colors"}),"Clear All"]})]}),r.jsx("div",{className:"flex flex-col gap-4",children:n.length===0?r.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:i("flex flex-col items-center justify-center gap-4","rounded-lg p-8 text-center","bg-[#FAFAFA] dark:bg-[#0b0d13]","border border-[#E5E5E5] dark:border-[#1a2332]"),children:[r.jsx("span",{className:"i-ph:bell-slash text-4xl text-gray-400 dark:text-gray-600"}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"No Notifications"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"You're all caught up!"})]})]}):n.map(e=>{const a=h(e.level,e.details?.type);return r.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:i("flex flex-col gap-2","rounded-lg p-4","bg-[#FAFAFA] dark:bg-[#0b0d13]","border border-[#E5E5E5] dark:border-[#1a2332]",a.bg,"transition-all duration-200"),children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:i("text-lg",a.icon,a.color)}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.message}),e.details&&b(e.details),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Category: ",e.category,e.subCategory?` > ${e.subCategory}`:""]})]})]}),r.jsx("time",{className:"shrink-0 text-xs text-gray-500 dark:text-gray-400",children:v(new Date(e.timestamp),{addSuffix:!0})})]})},e.id)})})]})};export{T as default};
