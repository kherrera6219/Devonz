import{r as t,l as n}from"./logs-DZu2vR68.js";class r{static _instance;_initialized=!1;constructor(){}static getInstance(){return r._instance||(r._instance=new r),r._instance}init(){this._initialized||t.isServer||(window.addEventListener("error",e=>{this.report({message:e.message,stack:e.error?.stack,source:"window.onerror",severity:"error"})}),window.addEventListener("unhandledrejection",e=>{this.report({message:`Unhandled Promise Rejection: ${e.reason}`,source:"unhandledrejection",severity:"error",metadata:{reason:e.reason}})}),this._initialized=!0,console.log("[ErrorReporter] Initialized"))}report(e){const s={timestamp:Date.now(),severity:"error",message:"Unknown error",...this._normalizeError(e)};console.groupCollapsed(`[ErrorReporter] ${s.severity.toUpperCase()}: ${s.message}`),console.log("Source:",s.source),console.log("Stack:",s.stack),console.log("Metadata:",s.metadata),console.groupEnd();try{n.logError(`[${s.source||"Manual"}] ${s.message}`,new Error(s.message))}catch{}}_normalizeError(e){return typeof e=="string"?{message:e}:e instanceof Error?{message:e.message,stack:e.stack}:e}}const a=r.getInstance();export{a as e};
